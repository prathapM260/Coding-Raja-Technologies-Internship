<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resume Generator</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"></script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</head>
<body>
    <div class="container" id="cv-form">
        <h1 class="text-center my-2">Resume Generator</h1>
        <div class="row">
            <div class="col-md-6">
                <h2>Personal Information</h2>
                <div class="form-group">
                    <label for="nameField">Your Name</label>
                    <input type="text" placeholder="Enter your name" id="nameField" name="name" class="form-control">
                </div>
                <div class="form-group">
                    <label for="contactField">Contact</label>
                    <input type="text" placeholder="Enter your contact" id="contactField" name="contact" class="form-control">
                </div>
                <div class="form-group">
                    <label for="addressField">Your Address</label>
                    <textarea placeholder="Enter your address" id="addressField" name="address" class="form-control"></textarea>
                </div>
                <div class="form-group">
                    <label for="facebookField">Facebook</label>
                    <input type="text" placeholder="Enter your Facebook ID" id="facebookField" name="facebook" class="form-control">
                </div>
                <div class="form-group">
                    <label for="instagramField">Instagram</label>
                    <input type="text" placeholder="Enter your Instagram" id="instagramField" name="instagram" class="form-control">
                </div>
                <div class="form-group">
                    <label for="linkedinField">Your LinkedIn</label>
                    <input type="text" placeholder="Enter your LinkedIn" id="linkedinField" name="linkedin" class="form-control">
                </div>
            </div>
            <div class="col-md-6">
                <h2>Professional Information</h2>
                <div class="form-group">
                    <label for="skillsField">Skills</label>
                    <textarea placeholder="List your skills" id="skillsField" name="skills" class="form-control"></textarea>
                </div>
                <div class="form-group">
                    <label for="educationField">Education</label>
                    <textarea placeholder="Detail your education" id="educationField" name="education" class="form-control"></textarea>
                </div>
                <div class="form-group">
                    <label for="projectsField">Projects</label>
                    <textarea placeholder="Describe your projects" id="projectsField" name="projects" class="form-control"></textarea>
                </div>
                <div class="form-group">
                    <label for="experienceField">Experience</label>
                    <textarea placeholder="Describe your experience" name="experience" class="form-control weField" id="experienceField"></textarea>
                    <div class="container text-center mt-2" id="weAdditional">
                        <button class="btn btn-primary btn-sm" onclick="addNewField()">Add</button>
                    </div>
                </div>
                <div class="form-group">
                    <label for="additionalField">Academic Information</label>
                    <textarea placeholder="List your additional information" name="additional" class="form-control aeField" id="additionalField"></textarea>
                    <div class="container text-center mt-2" id="aeAdditional">
                        <button class="btn btn-primary btn-sm" onclick="addNewAcField()">Add</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="container text-center mt-2">
            <button class="btn btn-primary btn-sm" onclick="generateCv()">Generate CV</button>
        </div>
    </div>
    <div class="cv-template m-5" id="cv-template">
        <div class="row">
            <div class="col-md-4 py-5 text-center background">
                <!-- Update the image tag with an id for easy access -->
<!-- Updated image tag with width and height attributes -->
<img id="profileImage" src="https://th.bing.com/th?q=Default+Profile+Picture+Square+Jpg&w=120&h=120&c=1&rs=1&qlt=90&cb=1&dpr=1.3&pid=InlineBlock&mkt=en-IN&cc=IN&setlang=en&adlt=moderate&t=1&mw=247" alt="Profile Image" class="my-image" onclick="displayImageUpload()" style="width: 120px; height: 120px;">
<!-- Add an onchange attribute to the file input to call the updateProfileImage function when a file is selected -->
<input type="file" id="imageUpload" style="display: none" onchange="updateProfileImage(this)">


                <div class="container text-center ml-2">
                    <p id="nameT1"></p>
                    <p id="contactT"></p>
                    <p id="addressT"></p>
                    <hr>
                    <p><a href="#" id="fbT"></a></p>
                    <p><a href="#" id="instaT"></a></p>
                    <p><a href="#" id="linkedinT"></a></p>
                </div>
            </div>
            <div class="col-md-8 pb-2">
                <h1 class="text-center" id="nameT2" style="font-weight:980"></h1>
                <div class="card mt-4">
                    <div class="card-header">
                        <h2>Objective</h2>
                    </div>
                    <div class="card-body">
                        <p id="objectiveT"></p>
                    </div>
                </div>
                <div class="card mt-4">
                    <div class="card-header">
                        <h2>Skills</h2>
                    </div>
                    <div class="card-body">
                        <ul id="skillsT"></ul>
                    </div>
                </div>
                <div class="card mt-4">
                    <div class="card-header">
                        <h2>Work Experience</h2>
                    </div>
                    <div class="card-body">
                        <ul id="weT"></ul>
                    </div>
                </div>
                <div class="card mt-4">
                    <div class="card-header">
                        <h2>Education</h2>
                    </div>
                    <div class="card-body">
                        <ul id="educationT"></ul>
                    </div>
                </div>
                <div class="card mt-4">
                    <div class="card-header">
                        <h2>Projects</h2>
                    </div>
                    <div class="card-body">
                        <ul id="projectsT"></ul>
                    </div>
                </div>
                <div class="card mt-4">
                    <div class="card-header">
                        <h2>Academic Qualification</h2>
                    </div>
                    <div class="card-body">
                        <ul id="aqT"></ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <button class="btn btn-primary btn-lg" onclick="downloadResume()">Download Resume</button>

    <script>
        function addNewField() {
            console.log("New field added");

            // Create new textarea element
            let newNode = document.createElement("textarea");
            newNode.classList.add("form-control", "weField", "mt-2");
            newNode.setAttribute("placeholder", "Enter your experience");
            newNode.setAttribute("rows", 4);

            // Find the container where the new textarea will be added
            let weContainer = document.getElementById("weAdditional");

            // Insert the new textarea before the button in the container
            weContainer.insertBefore(newNode, weContainer.children[0]);
        }

        function addNewAcField() {
            console.log("New academic information field added");

            // Create new textarea element
            let newNode = document.createElement("textarea");
            newNode.classList.add("form-control", "aeField", "mt-2");
            newNode.setAttribute("placeholder", "Enter your academic information");
            newNode.setAttribute("rows", 4);

            // Find the container where the new textarea will be added
            let aeContainer = document.getElementById("aeAdditional");

            // Insert the new textarea before the button in the container
            aeContainer.insertBefore(newNode, aeContainer.children[0]);
        }

        function generateCv() {
            // Personal Information
            document.getElementById('nameT1').innerText = document.getElementById('nameField').value;
            document.getElementById('nameT2').innerText = document.getElementById('nameField').value;
            document.getElementById('contactT').innerText = document.getElementById('contactField').value;
            document.getElementById('addressT').innerText = document.getElementById('addressField').value;

            document.getElementById('fbT').innerText = document.getElementById('facebookField').value;
            document.getElementById('fbT').href = document.getElementById('facebookField').value;

            document.getElementById('instaT').innerText = document.getElementById('instagramField').value;
            document.getElementById('instaT').href = document.getElementById('instagramField').value;

            document.getElementById('linkedinT').innerText = document.getElementById('linkedinField').value;
            document.getElementById('linkedinT').href = document.getElementById('linkedinField').value;

            // Skills
            let skills = document.getElementById('skillsField').value;
            let skillsArray = skills.split('\n');
            let skillsHtml = '';
            skillsArray.forEach(skill => {
                if (skill.trim() !== '') {
                    skillsHtml += `<li>${skill.trim()}</li>`;
                }
            });
            document.getElementById('skillsT').innerHTML = skillsHtml;

            // Education
            let education = document.getElementById('educationField').value;
            let educationArray = education.split('\n');
            let educationHtml = '';
            educationArray.forEach(edu => {
                if (edu.trim() !== '') {
                    educationHtml += `<li>${edu.trim()}</li>`;
                }
            });
            document.getElementById('educationT').innerHTML = educationHtml;

            // Projects
            let projects = document.getElementById('projectsField').value;
            let projectsArray = projects.split('\n');
            let projectsHtml = '';
            projectsArray.forEach(project => {
                if (project.trim() !== '') {
                    projectsHtml += `<li>${project.trim()}</li>`;
                }
            });
            document.getElementById('projectsT').innerHTML = projectsHtml;

            // Experience
            let weFields = document.getElementsByClassName('weField');
            let experienceHtml = '';
            for (let field of weFields) {
                if (field.value.trim() !== '') {
                    experienceHtml += `<li>${field.value.trim()}</li>`;
                }
            }
            document.getElementById('weT').innerHTML = experienceHtml;

            // Additional Information
            let aeFields = document.getElementsByClassName('aeField');
            let additionalHtml = '';
            for (let field of aeFields) {
                if (field.value.trim() !== '') {
                    additionalHtml += `<li>${field.value.trim()}</li>`;
                }
            }
            document.getElementById('aqT').innerHTML = additionalHtml;
        }

        function displayImageUpload() {
            document.getElementById('imageUpload').click();
        }

        function updateProfileImage(input) {
            const file = input.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('profileImage').setAttribute('src', e.target.result);
                }
                reader.readAsDataURL(file);
            }
        }

        function downloadResume() {
            const resumeContent = document.getElementById('cv-template').outerHTML;
        
            html2pdf()
                .from(resumeContent)
                .set({ filename: 'resume.pdf', html2canvas: { scale: 2 }, jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' } })
                .save();
        }
        
        
    

        function generateResumeContent() {
            // Generate the content of the resume as a string
            let resumeContent = document.getElementById('cv-template').outerHTML; // Update with the appropriate element containing the resume content
            return resumeContent;
        }
    </script>
</body>
</html>
